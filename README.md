# Практическая работа 7.6

## Цель практической работы

Закрепить знания, полученные по следующим темам:
- Написание контроллеров с использованием Mono и Flux.
- Работа с MongoDB в реактивной парадигме.

## Задание

Реализуйте приложение «Трекер задач», которое будет работать с двумя сущностями: **User** и **Task**.

### 1. Сущность User

**Поля:**
- `String id`
- `String username`
- `String email`

### 2. Сущность Task

**Поля:**
- `String id`
- `String name`
- `String description`
- `Instant createdAt`
- `Instant updatedAt`
- `TaskStatus status`
- `String authorId`
- `String assigneeId`
- `Set<String> observerIds`

**Поля, не попадающие в базу данных:**
- `User author`
- `User assignee`
- `Set<User> observers`

**Enum TaskStatus:**
- `TODO`
- `IN_PROGRESS`
- `DONE`

### 3. Маппинг сущностей

Реализовать маппинг сущностей через **MapStruct**.

### 4. Контроллеры

Все контроллеры должны возвращать **Mono** или **Flux**.

### 5. API для сущности User

Создать API, которое предоставляет возможность:
- Найти всех пользователей
- Найти пользователя по ID
- Создать пользователя
- Обновить информацию о пользователе
- Удалить пользователя по ID

### 6. API для сущности Task

Создать API, которое предоставляет возможность:
- Найти все задачи (в ответе также должны находиться вложенные сущности, которые описывают автора задачи и исполнителя, а также содержат список наблюдающих за задачей)
- Найти конкретную задачу по ID (в ответе также должны находиться вложенные сущности, которые описывают автора задачи и исполнителя, а также содержат список наблюдающих за задачей)
- Создать задачу
- Обновить задачу
- Добавить наблюдателя в задачу
- Удалить задачу по ID

## Советы и рекомендации

- В реактивной парадигме вы не можете использовать такие аннотации, как DBRef или DocumentRefrence, для установления связей между сущностями. Вместо этого используйте метод `Mono.zip`, который поможет объединить несколько запросов к базе данных и использовать данные из запроса для установления нужной дочерней сущности.
- Метод `zip` не работает с пустыми значениями Mono и (или) Flux. Убедитесь, что в методе `zip` вы используете значения, которые не являются пустыми (иначе метод не будет выполняться).
- Вы можете использовать аннотацию `@ReadOnlyProperty` над полями сущности, которые не должны попадать в базу данных.
